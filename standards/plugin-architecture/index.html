<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="A structure for isolating the parts of your software and making it extensible."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content="Clean Plugin Architecture"><meta property="og:description" content="A structure for isolating the parts of your software and making it extensible."><meta property="og:type" content="article"><meta property="og:url" content="https://uberblah.github.io/software-quality/standards/plugin-architecture/"><meta property="article:section" content="standards"><meta property="article:published_time" content="2023-04-01T06:32:33-07:00"><meta property="article:modified_time" content="2023-04-01T16:04:50-07:00"><title>Clean Plugin Architecture | Software Quality</title><link rel=manifest href=/software-quality/manifest.json><link rel=icon href=/software-quality/favicon.png type=image/x-icon><link rel=stylesheet href=/software-quality/book.min.5517630b0d9d1ce295bfc3620bd04d96fc8a85ebafbb55a54e185ae7490fad35.css integrity="sha256-VRdjCw2dHOKVv8NiC9BNlvyKheuvu1WlThha50kPrTU=" crossorigin=anonymous><script defer src=/software-quality/flexsearch.min.js></script>
<script defer src=/software-quality/en.search.min.ae43d249208a87e15d487cd60be46935fdcb17db5623a18c67f323e9ec7cc2ef.js integrity="sha256-rkPSSSCKh+FdSHzWC+RpNf3LF9tWI6GMZ/Mj6ex8wu8=" crossorigin=anonymous></script>
<link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Ubuntu"><link rel=stylesheet href="https://fonts.googleapis.com/css2?family=Ubuntu+Mono"><script src=https://kit.fontawesome.com/e234cc2753.js crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/software-quality/><span>Software Quality</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li><input type=checkbox id=section-e4fdd4f7ba1c1abe81549a07101b90c8 class=toggle>
<label for=section-e4fdd4f7ba1c1abe81549a07101b90c8 class="flex justify-between"><a href=/software-quality/project-lifecycle/>Project Lifecycle</a></label><ul><li><a href=/software-quality/project-lifecycle/requirements-gathering/>Requirements Gathering</a></li><li><a href=/software-quality/project-lifecycle/design/>Design</a></li><li><a href=/software-quality/project-lifecycle/planning/>Planning</a></li><li><a href=/software-quality/project-lifecycle/implementation/>Implementation</a></li><li><a href=/software-quality/project-lifecycle/release/>Release</a></li><li><a href=/software-quality/project-lifecycle/operation/>Operation</a></li><li><a href=/software-quality/project-lifecycle/deprecation/>Deprecation</a></li></ul></li><li><input type=checkbox id=section-d029f73bf1cdfe590bb4247b295c96ae class=toggle checked>
<label for=section-d029f73bf1cdfe590bb4247b295c96ae class="flex justify-between"><a href=/software-quality/standards/>Standards</a></label><ul><li><a href=/software-quality/standards/design-template/>Design Template</a></li><li><a href=/software-quality/standards/plugin-architecture/ class=active>Clean Plugin Architecture</a></li></ul></li><li><input type=checkbox id=section-e798a1ea86e492b5d0ef680a37e2606c class=toggle>
<label for=section-e798a1ea86e492b5d0ef680a37e2606c class="flex justify-between"><a href=/software-quality/principles/>Principles</a></label><ul><li><a href=/software-quality/principles/solve-the-right-problem/>Solve the Right Problem</a></li><li><a href=/software-quality/principles/separation-of-concerns/>Separate Concerns</a></li><li><a href=/software-quality/principles/o1-effort-per-change/>O(1) Effort per Change</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/software-quality/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Clean Plugin Architecture</strong>
<label for=toc-control><img src=/software-quality/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#why>Why?</a></li><li><a href=#components>Components</a></li><li><a href=#a-concrete-example-in-code>A Concrete Example in Code</a><ul><li><a href=#environment>Environment</a></li><li><a href=#core-logic>Core Logic</a></li><li><a href=#interface>Interface</a></li><li><a href=#plugin>Plugin</a></li></ul></li><li><a href=#considerations>Considerations</a><ul><li><a href=#dependency-management>Dependency Management</a></li><li><a href=#multiple-environments>Multiple Environments</a></li><li><a href=#testing>Testing</a></li></ul></li></ul></nav></aside></header><article class=markdown><h1 id=the-clean-plugin-architecture>The Clean Plugin Architecture
<a class=anchor href=#the-clean-plugin-architecture>#</a></h1><h2 id=why>Why?
<a class=anchor href=#why>#</a></h2><p>When building software, it&rsquo;s critical to identify the portions of the software that
may evolve independently or change direction in the future. Classic examples include:</p><ol><li>You may change your backing storage</li><li>You may change the way you log things</li><li>You may want to relocate part of your logic to its own service later</li><li>You may want to redistribute chunks of your service logic in a CLI</li><li>Your service may want to integrate with many similar customer systems</li><li>You may want to allow customers to extend your service with custom logic</li></ol><p>We want to make it so that none of your system needs to be rewritten or copied for each
new scenario. Each time you add a new scenario, you should only have to write some new
code to directly support it. None of your core logic should change.</p><p>You&rsquo;ll actually need multiple components in order to separate those pieces cleanly:</p><ol><li>Defining the non-changing, reusable core logic (<code>Core Logic</code>)</li><li>Defining what your core logic requires from each plugin or module (<code>Interface</code>)</li><li>Defining the plugins and modules themselves (<code>Plugin</code>)</li><li>Connecting the plugins and actually running your core logic on them (<code>Environment</code>)</li></ol><p>All of the concerns above are things you may want to evolve independently over time,
so each should get their own component in this design.</p><p>The Clean Plugin Architecture provides a reusable / implementable set of components
that is viable in any programming language, and ensures strong isolation. It can tolerate
cases where each piece is owned by a different developer.</p><blockquote class="book-hint info">I use versions of this frequently across many kinds of systems and problems.
There are many places where this pattern already shows up in part or whole.
I did not invent this pattern, I am just formalizing it for your consumption.</blockquote><h2 id=components>Components
<a class=anchor href=#components>#</a></h2><ol><li>The <code>Environment</code> is what executes the whole system. It knows how to:<ol><li>Initialize the core logic</li><li>Find and initialize plugins</li><li>Plug them into the core logic</li><li>Run the core logic</li></ol></li><li>The <code>Core Logic</code> is the reusable logic that will rely on our plugins</li><li>The <code>Interface</code> is an interface or specification of what the plugins need to support</li><li>The <code>Plugin</code> is one module that supports all the needed operations. It can be plugged
in, potentially alongside other plugins for the core logic to use.</li></ol><script src=https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js></script>
<script>mermaid.initialize({startOnLoad:!0,theme:"dark"})</script><div class=mermaid style=background-color:default;border-color:gray;border-width:3px;border-style:dashed>flowchart TD
subgraph env[Environment]
prepare([prepare plugins])
provide([provide plugins])
launch([launch])
end
subgraph core[Core Logic]
sac([setup / init])
sa1([action 1])
sa2([action 2])
end
subgraph interface[Interface]
o1((op1))
o2((op2))
o3((op3))
end
subgraph plugin1[Plugin]
p1c([setup / init])
p1o1((op1))
p1o2((op2))
p1o3((op3))
end
sa1 --> o1
sa2 --> o2
sa2 --> o3
o1 -.-> p1o1
o2 -.-> p1o2
o3 -.-> p1o3
prepare --> p1c
provide --> sac
launch --> sa1
sa1 --> sa2</div><p>With this architecture, you can easily add new <code>Plugin</code>s and get them working quickly
without changing your <code>Core Logic</code>, which is the goal we wanted to achieve!</p><p>Keep in mind that this diagram is not canonical. Some things that may differ:</p><ol><li>The <code>Environment</code> may provide <code>Plugins</code> as arguments to the <code>Core Logic</code>&rsquo;s actual
methods, rather than providing them at setup</li><li>The <code>Core Logic</code> could just be some hard-coded functions with no setup process</li><li>The <code>Core Logic</code> may have several separately-triggered actions available</li><li>The <code>Core Logic</code> may be invoked by someone other than the <code>Environment</code>, e.g.
if the <code>Core Logic</code> is actually a service launched by the <code>Environment</code></li><li>The <code>Interface</code> may actually define its own initialization method and be initialized
directly by the core logic (after some other loading process to get access to it)</li><li>The <code>Plugins</code> may be initialized and passed to the environment a different way</li></ol><p>In the wild, you may know or discover that:</p><ol><li>All of these components may have different names</li><li>The most common reusable tool for this is a Dependency Injection Framework</li><li>Some systems such as Interface Definition Languages only provide <code>Interface</code> or
a different, limited subset of the components above.</li><li>You may have several layers of plugins (and plugins with their own plugins)</li><li>There is a LOT of fancy stuff you can build ontop of this, or to enhance it.
We don&rsquo;t cover that in this doc, but maybe in a future one!</li></ol><h2 id=a-concrete-example-in-code>A Concrete Example in Code
<a class=anchor href=#a-concrete-example-in-code>#</a></h2><blockquote class="book-hint info"><p>Keep in mind, the components will not always be in code. You can implement this pattern
using separate microservices, WebAssembly modules or mix of component types.</p><p>The important thing to understand is the dependency structure, and this provides a concrete
example that can help illustrate how the architecture is applied.</p></blockquote><h3 id=environment>Environment
<a class=anchor href=#environment>#</a></h3><p>For this example I express the <code>Environment</code> as a <code>main</code> method. This is essentially the
role that the <code>Environment</code> generally takes, organizing all of the other computation.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> my_package.storage.plugin_one <span style=color:#f92672>import</span> StoragePluginNumberOne
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> my_package.core <span style=color:#f92672>import</span> CoreLogic
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>_prep_core_logic</span>() <span style=color:#f92672>-&gt;</span> CoreLogic:
</span></span><span style=display:flex><span>    storage <span style=color:#f92672>=</span> StoragePluginNumberOne()
</span></span><span style=display:flex><span>    core <span style=color:#f92672>=</span> CoreLogic(storage<span style=color:#f92672>=</span>storage)
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> core
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>main</span>():
</span></span><span style=display:flex><span>    <span style=color:#75715e># this environment is just for running a simple test</span>
</span></span><span style=display:flex><span>    core <span style=color:#f92672>=</span> _prep_core_logic()
</span></span><span style=display:flex><span>    print(core<span style=color:#f92672>.</span>foo(<span style=color:#ae81ff>5</span>))
</span></span><span style=display:flex><span>    print(core<span style=color:#f92672>.</span>bar(<span style=color:#ae81ff>10</span>))
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>if</span> __name__ <span style=color:#f92672>==</span> <span style=color:#e6db74>&#34;__main__&#34;</span>:
</span></span><span style=display:flex><span>    main()
</span></span></code></pre></div><h3 id=core-logic>Core Logic
<a class=anchor href=#core-logic>#</a></h3><p>This is the concrete class or set of functions that use our pluggable components. There should be only one logic that is applied to any plugins that are prepared. We should have a mechanism to receive at runtime the specific plugin implementations that will be used.</p><p>In the code below, pay attention to the use of <code>StorageInterface</code> and <code>_storage</code>.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> logging
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> my_package.storage.interface <span style=color:#f92672>import</span> StorageInterface
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>log <span style=color:#f92672>=</span> logging<span style=color:#f92672>.</span>getLogger(__name__)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CoreLogic</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self, storage: StorageInterface) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_storage <span style=color:#f92672>=</span> storage
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>foo</span>(self, baz: int) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        result <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>_storage<span style=color:#f92672>.</span>insert_entry(k<span style=color:#f92672>=</span>str(baz), v<span style=color:#f92672>=</span>str(baz <span style=color:#f92672>*</span> <span style=color:#ae81ff>2</span>))
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> <span style=color:#f92672>not</span> result:
</span></span><span style=display:flex><span>            log<span style=color:#f92672>.</span>warning(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Existing entry for </span><span style=color:#e6db74>{</span>baz<span style=color:#e6db74>}</span><span style=color:#e6db74>, need more batteries!&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>bar</span>(self, wow: int) <span style=color:#f92672>-&gt;</span> bool:
</span></span><span style=display:flex><span>        result <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>_storage<span style=color:#f92672>.</span>get_entry(str(int(wow <span style=color:#f92672>/</span> <span style=color:#ae81ff>2</span>)))
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> result <span style=color:#f92672>is</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>            log<span style=color:#f92672>.</span>warning(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;No existing entry for </span><span style=color:#e6db74>{</span>wow<span style=color:#e6db74>}</span><span style=color:#e6db74>, need more batteries!&#34;</span>)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> result <span style=color:#f92672>==</span> wow
</span></span></code></pre></div><h3 id=interface>Interface
<a class=anchor href=#interface>#</a></h3><p>This can be a straightforward interface or abstract class. It should declare all of the
operations that implementors need to support. Some examples:</p><ol><li>Any storage that I use should support these operations</li><li>Any logging system that I use should support these operations</li><li>Any user-provided plugins must support these operations</li><li>Any environment where I want to execute my core logic should support these operations</li></ol><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> abc <span style=color:#f92672>import</span> ABC, abstractmethod
</span></span><span style=display:flex><span><span style=color:#f92672>from</span> typing <span style=color:#f92672>import</span> Optional
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>StorageInterface</span>(ABC):
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@abstractmethod</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>insert_entry</span>(self, k: str, v: str) <span style=color:#f92672>-&gt;</span> bool:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@abstractmethod</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_entry</span>(self, k: str) <span style=color:#f92672>-&gt;</span> Optional[str]:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>pass</span>
</span></span></code></pre></div><h3 id=plugin>Plugin
<a class=anchor href=#plugin>#</a></h3><p>This is the concrete plugin that is scenario-specific and lets our core logic operate
in that scenario without any other changes.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> my_package.storage.interface <span style=color:#f92672>import</span> StorageInterface
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>StoragePluginNumberOne</span>(StorageInterface):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> __init__(self) <span style=color:#f92672>-&gt;</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_data <span style=color:#f92672>=</span> {}
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@abstractmethod</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>insert_entry</span>(self, k: str, v: str) <span style=color:#f92672>-&gt;</span> bool:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> k <span style=color:#f92672>in</span> self<span style=color:#f92672>.</span>_data:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>False</span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_data[k] <span style=color:#f92672>=</span> v
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> <span style=color:#66d9ef>True</span>
</span></span><span style=display:flex><span>    
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@abstractmethod</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_entry</span>(self, k: str) <span style=color:#f92672>-&gt;</span> Optional[str]:
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>_data<span style=color:#f92672>.</span>get(k)
</span></span></code></pre></div><h2 id=considerations>Considerations
<a class=anchor href=#considerations>#</a></h2><h3 id=dependency-management>Dependency Management
<a class=anchor href=#dependency-management>#</a></h3><p>For the code examples above, pay special attention to the <code>import</code> statements.</p><ol><li><code>Core Logic</code> depends ONLY on <code>Interface</code>. It is completely unaware of the <code>Plugin</code>.</li><li><code>Plugin</code> depends ONLY on <code>Interface</code>. It is completely unaware of the <code>Core Logic</code>.</li><li><code>Environment</code> depends on both <code>Core Logic</code> and the specific <code>Plugin</code>s that it loads<ol><li>The <code>Environment</code> is the root of our actual application. If it doesn&rsquo;t depend on
something, then that thing doesn&rsquo;t need to be packaged in our app at all! So it&rsquo;s
a good thing that we don&rsquo;t have to depend on plugins we&rsquo;re not using.</li><li>It takes more work to build a system where <code>Environment</code> can depend ONLY on the
<code>Core Logic</code> and <code>Interface</code>. It&rsquo;s possible, but won&rsquo;t be covered here.</li></ol></li></ol><h3 id=multiple-environments>Multiple Environments
<a class=anchor href=#multiple-environments>#</a></h3><p>Since the <code>Environment</code> is responsible for selecting a plugin to use, each <code>Environment</code>
that wants to use the <code>Core Logic</code> can define any new plugins that are needed, as part
of onboarding.</p><h3 id=testing>Testing
<a class=anchor href=#testing>#</a></h3><p>There are a few benefits you can count on for testing, when you use this architecture:</p><ol><li>You can have a trivial &ldquo;dummy&rdquo; implementation which can be used:<ol><li>To test the <code>Core Logic</code> E2E without relying on any &ldquo;real&rdquo; plugins</li><li>To create an E2E test that can try every plugin and expect similar outcomes</li></ol></li><li>No matter your language, the <code>Interface</code> can generally be mocked for unit testing</li></ol></article><footer class=book-footer><div class="flex flex-wrap justify-between"><div><a class="flex align-center" href=https://github.com/uberblah/software-quality/commit/bfec26ed7470790204f06c56cc2d124c932b0461 title='Last modified by uberblah | 2023-04-01' target=_blank rel=noopener><img src=/software-quality/svg/calendar.svg class=book-icon alt=Calendar>
<span>2023-04-01</span></a></div><div><a class="flex align-center" href=https://github.com/uberblah/software-quality/edit/main/content/standards/plugin-architecture.md target=_blank rel=noopener><img src=/software-quality/svg/edit.svg class=book-icon alt=Edit>
<span>Edit this page</span></a></div></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script><footer><br><div class=site-footer><ul><li>Views expressed are those of the author and not any current or past employer.</li><li>This site presents general industry practices, not trade secrets or inventions.</li><li>I am not a lawyer. Technical notes on Privacy and Security are not legal advice.</li></ul></div></footer></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#why>Why?</a></li><li><a href=#components>Components</a></li><li><a href=#a-concrete-example-in-code>A Concrete Example in Code</a><ul><li><a href=#environment>Environment</a></li><li><a href=#core-logic>Core Logic</a></li><li><a href=#interface>Interface</a></li><li><a href=#plugin>Plugin</a></li></ul></li><li><a href=#considerations>Considerations</a><ul><li><a href=#dependency-management>Dependency Management</a></li><li><a href=#multiple-environments>Multiple Environments</a></li><li><a href=#testing>Testing</a></li></ul></li></ul></nav></div></aside></main></body></html>